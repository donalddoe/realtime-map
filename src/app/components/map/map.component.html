<div *ngIf="loaderService.isLoading | async" class="loader-container">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>
<mat-drawer-container class="sidebar-container">
  <mat-drawer mode="side" tabindex="-1" style="transform: none; visibility: visible;" opened class="drawer-content">
    <div class="toolbar-section">
      <mat-toolbar class="toolbar" *ngIf="mapInfo">
        <span>{{mapInfo.firstname}} {{mapInfo.lastname}} | {{mapInfo.company}}</span>
      </mat-toolbar>
      <div class="section-filter mat-background-accent">
        <div class="filter-box">
        <div class="filter-title">
            Rent
          <img class="arrow-down" src="../../../assets/images/arrow-down-white.svg">
        </div>
        <div class="filter-content"> $726 - $1,126</div>
        </div>
        <div class="filter-box">
          <div class="filter-title">
            Bedrooms
            <img class="arrow-down" src="../../../assets/images/arrow-down-white.svg">
          </div>
        <div class="filter-content"> Studio, 1, 2, 3 </div>
          </div>

      </div>
    </div>

    <!-- <mat-toolbar class="sub-toolbar">
      <span >{{mapInfo.firstname}} {{mapInfo.lastname}} | {{mapInfo.company}}</span>
    </mat-toolbar> -->
    <main *ngIf="records"  fxLayout="column" fxLayoutGap="14px">
        <mat-card (click)="sideClick(record)" class="card-container" *ngFor="let record of records" >
          <mat-card-header>
            <mat-card-title>{{record.name}}</mat-card-title>
            <mat-card-subtitle>{{record.streetAddress}}, {{record.city}}</mat-card-subtitle>
              <mat-card-subtitle class="inline" *ngFor="let plan of record.floorplans; let i = index;">
                <img width="20px" src="{{priceIcons[i]}}" />  <span>${{plan.price  | number}}+ </span>
              </mat-card-subtitle>
            <mat-card-subtitle>{{record.highValueAmenities.length}} High value amenities </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
          </mat-card-content>
        <div class="spacer  "></div>
          <img mat-card-image src="{{record.photo}}" >
        </mat-card>
    </main>
  </mat-drawer>
  <mat-drawer-content>
    <!-- Map start -->
    <div id="map" class="map-container"> </div>
<!--
    <mgl-map [center]="initialCenter" [zoom]="[initialZoom]" (load)="createMap()">
    <mgl-marker *ngFor="let feature of features" [feature]="feature">
      <div (click)="markerClick(feature)">
        <img width="20" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Map_marker.svg/780px-Map_marker.svg.png" />
      </div>
    </mgl-marker>
  </mgl-map> -->
    <!-- Map end -->
  </mat-drawer-content>
</mat-drawer-container>
